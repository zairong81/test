<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script type="text/javascript"
 src="https://code.jquery.com/jquery-2.2.4.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
	
	var $btnOk = $("<button id='btnOk'>확인</button>");
	
	$("#btnAlert").on( "click", function() {
		alert("HOLA");
		console.log("HIHI");
		
		$btnOk.prependTo($("div"));

	});
	
	// -------------------------------
	
	// 이벤트 리스너와 요소 노드가 bind되는 시점에
	//#btnOk가 DOM트리에 존재하지 않아서
	//이벤트 리스너를 등록시킬 대상을 찾을 수 없다
	//	-> 코드는 버려진다 (수행할 수 없게 된다)
	$("#btnOk").on("click", function() {
		alert("btnOk HIHIHIHI");
	});
	
	// ----------------------------------------------------
	
	// 해결방법
	//이벤트가 bind 되는 시점에 존재하는 부모 요소에 이벤트를
	//등록해놓는다
	// on() API함수의 기능 중 중간 선택자를 입력해
	//이벤트 발동 조건을 걸어 추가되는 요소로 축소한다 
	$("div").on("click", "#btnOk", function() {
		alert("Hello");
		
		//#btnAlert의 click이벤트리스너 제거
		$("#btnAlert").off("click")
		
		//#btnAlert의 모든 이벤트리스너 제거
		$("#btnAlert").off()
	});
});
</script></head><body>

<div>
	<button id="btnAlert">알림</button>
</div>

</body>
</html>









